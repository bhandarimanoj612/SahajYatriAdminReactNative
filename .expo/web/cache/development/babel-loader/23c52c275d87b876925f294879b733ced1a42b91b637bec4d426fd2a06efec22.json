{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport { StyledComponent as _StyledComponent } from \"nativewind\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useIsFocused, useNavigation } from \"@react-navigation/native\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../screens/utils/config\";\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from \"react-native-responsive-screen\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SearchComponent = function SearchComponent(_ref) {\n  var setIsSearching = _ref.setIsSearching,\n    onSearch = _ref.onSearch;\n  var navigation = useNavigation();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    searchQuery = _useState2[0],\n    setSearchQuery = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    userImage = _useState4[0],\n    setUserImage = _useState4[1];\n  var isFocused = useIsFocused();\n  var handleSearch = function handleSearch() {\n    axios.get(`${BASE_URL}HotelSearch?name=${searchQuery}`).then(function (response) {\n      onSearch(response.data);\n      setIsSearching(true);\n    }).catch(function (error) {\n      console.error(\"Error searching hotels:\", error);\n    });\n  };\n  useEffect(function () {\n    var fetchUserImage = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        if (isFocused) {\n          try {\n            var imageFilePath = yield AsyncStorage.getItem(\"userImageFilePath\");\n            if (imageFilePath) {\n              setUserImage(imageFilePath);\n            }\n          } catch (error) {\n            console.error(\"Error fetching user image:\", error);\n          }\n        }\n      });\n      return function fetchUserImage() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchUserImage();\n  }, [isFocused]);\n  useEffect(function () {\n    var updateUserImage = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        try {\n          var imageFilePath = yield AsyncStorage.getItem(\"userImageFilePath\");\n          if (imageFilePath) {\n            setUserImage(imageFilePath);\n          }\n        } catch (error) {\n          console.error(\"Error fetching user image:\", error);\n        }\n      });\n      return function updateUserImage() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    updateUserImage();\n  }, [userImage]);\n  return _jsxs(_StyledComponent, {\n    className: \"max-5 flex-row justify-between items-center mt-16 mb-4\",\n    component: View,\n    children: [_jsx(_StyledComponent, {\n      className: \"mx-5 mb-4\",\n      component: View,\n      children: _jsxs(_StyledComponent, {\n        onPress: handleSearch,\n        style: styles.Shadow,\n        className: \"bg-white flex-row items-center rounded-full p-4 space-x-2 pl-6 dark:bg-neutral-700\",\n        component: View,\n        children: [_jsx(TouchableOpacity, {\n          onPress: handleSearch,\n          children: _jsx(Image, {\n            source: require(\"../../assets/images/search.png\")\n          })\n        }), _jsx(_StyledComponent, {\n          placeholder: \"Mustang\",\n          className: \" text-base w-56 tracking-wider \",\n          placeholderTextColor: \"#9b9c9e\",\n          onPress: function onPress() {\n            return setIsSearching(true);\n          },\n          value: searchQuery,\n          onChangeText: setSearchQuery,\n          onSubmitEditing: handleSearch,\n          component: TextInput\n        })]\n      })\n    }), _jsx(Image, {\n      source: userImage ? {\n        uri: userImage\n      } : require(\"../../assets/images/welcome.png\"),\n      style: {\n        height: wp(13),\n        width: wp(13),\n        borderRadius: wp(50),\n        marginTop: wp(-4),\n        paddingRight: wp(1),\n        marginRight: wp(25),\n        shadowOpacity: 10,\n        shadowColor: \"black\",\n        shadowOffset: {\n          width: 3,\n          height: 2\n        },\n        shadowRadius: 8\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  Shadow: {\n    borderColor: \"#6E6C6C\",\n    borderWidth: 1,\n    overflow: \"visible\",\n    shadowColor: \"black\",\n    shadowRadius: 1,\n    shadowOpacity: 1\n  }\n});\nexport default SearchComponent;\n_NativeWindStyleSheet.create({\n  styles: {\n    \"mx-5\": {\n      \"marginLeft\": 20,\n      \"marginRight\": 20\n    },\n    \"mb-4\": {\n      \"marginBottom\": 16\n    },\n    \"mt-16\": {\n      \"marginTop\": 64\n    },\n    \"w-56\": {\n      \"width\": 224\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"justify-between\": {\n      \"justifyContent\": \"space-between\"\n    },\n    \"rounded-full\": {\n      \"borderTopLeftRadius\": 9999,\n      \"borderTopRightRadius\": 9999,\n      \"borderBottomRightRadius\": 9999,\n      \"borderBottomLeftRadius\": 9999\n    },\n    \"bg-[#D9D9D9]\": {\n      \"backgroundColor\": \"#D9D9D9\"\n    },\n    \"bg-white\": {\n      \"backgroundColor\": \"#fff\"\n    },\n    \"p-4\": {\n      \"paddingTop\": 16,\n      \"paddingRight\": 16,\n      \"paddingBottom\": 16,\n      \"paddingLeft\": 16\n    },\n    \"pl-6\": {\n      \"paddingLeft\": 24\n    },\n    \"tracking-wider\": {\n      \"letterSpacing\": 0.5\n    },\n    \"space-x-2.children@0\": {\n      \"marginLeft\": 8\n    },\n    \"text-base\": {\n      \"fontSize\": 16,\n      \"lineHeight\": 24\n    },\n    \"dark:bg-neutral-700\": {\n      \"backgroundColor\": \"#404040\"\n    }\n  },\n  atRules: {\n    \"space-x-2.children\": [[[\"selector\", \"(> *:not(:first-child))\"]]]\n  },\n  masks: {\n    \"dark:bg-neutral-700\": 1\n  },\n  topics: {\n    \"dark:bg-neutral-700\": [\"colorScheme\"]\n  },\n  childClasses: {\n    \"space-x-2\": [\"space-x-2.children\"]\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Image","TextInput","TouchableOpacity","StyleSheet","useIsFocused","useNavigation","axios","BASE_URL","widthPercentageToDP","wp","heightPercentageToDP","hp","AsyncStorage","jsx","_jsx","jsxs","_jsxs","SearchComponent","_ref","setIsSearching","onSearch","navigation","_useState","_useState2","_slicedToArray","searchQuery","setSearchQuery","_useState3","_useState4","userImage","setUserImage","isFocused","handleSearch","get","then","response","data","catch","error","console","fetchUserImage","_ref2","_asyncToGenerator","imageFilePath","getItem","apply","arguments","updateUserImage","_ref3","_StyledComponent","className","component","children","onPress","style","styles","Shadow","source","require","placeholder","placeholderTextColor","value","onChangeText","onSubmitEditing","uri","height","width","borderRadius","marginTop","paddingRight","marginRight","shadowOpacity","shadowColor","shadowOffset","shadowRadius","create","borderColor","borderWidth","overflow","_NativeWindStyleSheet","atRules","masks","topics","childClasses"],"sources":["C:/Users/bhand/OneDrive/Desktop/Sahaj Yatri/Frontend/src/components/SearchComponent.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  View,\r\n  Image,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  StyleSheet,\r\n} from \"react-native\";\r\nimport { useIsFocused, useNavigation } from \"@react-navigation/native\";\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../screens/utils/config\";\r\nimport {\r\n  widthPercentageToDP as wp,\r\n  heightPercentageToDP as hp,\r\n} from \"react-native-responsive-screen\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nconst SearchComponent = ({ setIsSearching, onSearch }) => {\r\n  const navigation = useNavigation();\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [userImage, setUserImage] = useState(null);\r\n  const isFocused = useIsFocused();\r\n\r\n  const handleSearch = () => {\r\n    axios\r\n      .get(`${BASE_URL}HotelSearch?name=${searchQuery}`)\r\n      .then((response) => {\r\n        onSearch(response.data);\r\n        setIsSearching(true);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error searching hotels:\", error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchUserImage = async () => {\r\n      if (isFocused) {\r\n        try {\r\n          const imageFilePath = await AsyncStorage.getItem(\"userImageFilePath\");\r\n          if (imageFilePath) {\r\n            setUserImage(imageFilePath);\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error fetching user image:\", error);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchUserImage();\r\n  }, [isFocused]); // Fetch image whenever component is focused\r\n\r\n  useEffect(() => {\r\n    const updateUserImage = async () => {\r\n      try {\r\n        const imageFilePath = await AsyncStorage.getItem(\"userImageFilePath\");\r\n        if (imageFilePath) {\r\n          setUserImage(imageFilePath);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching user image:\", error);\r\n      }\r\n    };\r\n\r\n    updateUserImage();\r\n  }, [userImage]); // Update image whenever userImage changes\r\n\r\n  return (\r\n    <View className=\"max-5 flex-row justify-between items-center mt-16 mb-4\">\r\n      <View className=\"mx-5 mb-4\">\r\n        <View\r\n          onPress={handleSearch}\r\n          style={styles.Shadow}\r\n          // className=\"bg-[#D9D9D9] flex-row items-center rounded-full p-4 space-x-2 pl-6\"\r\n          className=\"bg-white flex-row items-center rounded-full p-4 space-x-2 pl-6 dark:bg-neutral-700\"\r\n        >\r\n          <TouchableOpacity onPress={handleSearch}>\r\n            <Image source={require(\"../../assets/images/search.png\")} />\r\n          </TouchableOpacity>\r\n          <TextInput\r\n            placeholder=\"Mustang\"\r\n            className=\" text-base w-56 tracking-wider \"\r\n            // placeholderTextColor={\"#89858E\"}\r\n            placeholderTextColor={\"#9b9c9e\"}\r\n            onPress={() => setIsSearching(true)}\r\n            value={searchQuery}\r\n            onChangeText={setSearchQuery}\r\n            onSubmitEditing={handleSearch}\r\n          />\r\n        </View>\r\n      </View>\r\n      <Image\r\n        source={\r\n          userImage\r\n            ? { uri: userImage }\r\n            : require(\"../../assets/images/welcome.png\")\r\n        }\r\n        style={{\r\n          height: wp(13),\r\n          width: wp(13),\r\n          borderRadius: wp(50),\r\n          marginTop: wp(-4),\r\n          paddingRight: wp(1),\r\n          marginRight: wp(25),\r\n          shadowOpacity: 10,\r\n          shadowColor: \"black\",\r\n          shadowOffset: { width: 3, height: 2 },\r\n          shadowRadius: 8,\r\n        }}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  Shadow: {\r\n    borderColor: \"#6E6C6C\",\r\n    borderWidth: 1,\r\n    overflow: \"visible\",\r\n    shadowColor: \"black\",\r\n    shadowRadius: 1,\r\n    shadowOpacity: 1,\r\n  },\r\n});\r\n\r\nexport default SearchComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}