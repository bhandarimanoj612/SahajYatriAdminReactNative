{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../utils/config\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar OfferScreen = function OfferScreen() {\n  var flatListRef = useRef(null);\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    offers = _useState2[0],\n    setOffers = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    currentIndex = _useState4[0],\n    setCurrentIndex = _useState4[1];\n  useEffect(function () {\n    axios.get(`${BASE_URL}offer`).then(function (response) {\n      setOffers(response.data);\n    }).catch(function (error) {\n      console.error(\"Error fetching offers:\", error);\n    });\n  }, []);\n  var renderItem = function renderItem(_ref) {\n    var item = _ref.item;\n    return _jsxs(View, {\n      style: styles.offerItem,\n      children: [_jsx(Image, {\n        source: {\n          uri: item.imageUrl\n        },\n        style: styles.offerImage\n      }), _jsxs(View, {\n        style: styles.textContainer,\n        children: [_jsx(Text, {\n          style: styles.offerTitle,\n          children: item.title\n        }), _jsx(Text, {\n          style: styles.offerDescription,\n          children: item.description\n        })]\n      })]\n    });\n  };\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(FlatList, {\n      ref: flatListRef,\n      data: offers,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      },\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      snapToInterval: 350,\n      decelerationRate: 0.8,\n      contentContainerStyle: {\n        paddingHorizontal: 10\n      },\n      onScroll: function onScroll(event) {\n        var offsetX = event.nativeEvent.contentOffset.x;\n        var index = Math.floor(offsetX / 330);\n        setCurrentIndex(index);\n      }\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    height: 130,\n    width: 400\n  },\n  offerItem: {\n    width: 380,\n    height: 140,\n    borderRadius: 25,\n    marginRight: 15,\n    overflow: \"visible\",\n    padding: 8\n  },\n  offerImage: {\n    width: \"100%\",\n    height: \"100%\",\n    borderRadius: 15\n  },\n  textContainer: {\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    right: 30,\n    backgroundColor: \"rgba(193, 193, 193, 0.6)\",\n    padding: 10,\n    margin: 15,\n    borderBottomLeftRadius: 10,\n    borderBottomRightRadius: 10\n  },\n  offerTitle: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    color: \"black\"\n  },\n  offerDescription: {\n    fontSize: 12,\n    color: \"black\"\n  }\n});\nexport default OfferScreen;\n_NativeWindStyleSheet.create({\n  styles: {\n    \"container\": {\n      \"width\": \"100%\"\n    },\n    \"container@0\": {\n      \"maxWidth\": 640\n    },\n    \"container@1\": {\n      \"maxWidth\": 768\n    },\n    \"container@2\": {\n      \"maxWidth\": 1024\n    },\n    \"container@3\": {\n      \"maxWidth\": 1280\n    },\n    \"container@4\": {\n      \"maxWidth\": 1536\n    },\n    \"absolute\": {\n      \"position\": \"absolute\"\n    }\n  },\n  atRules: {\n    \"container\": [[[\"media\", \"(min-width: 640px)\"]], [[\"media\", \"(min-width: 768px)\"]], [[\"media\", \"(min-width: 1024px)\"]], [[\"media\", \"(min-width: 1280px)\"]], [[\"media\", \"(min-width: 1536px)\"]]]\n  },\n  topics: {\n    \"container\": [\"width\"]\n  }\n});","map":{"version":3,"names":["React","useRef","useEffect","useState","View","Text","Image","FlatList","StyleSheet","axios","BASE_URL","jsx","_jsx","jsxs","_jsxs","OfferScreen","flatListRef","_useState","_useState2","_slicedToArray","offers","setOffers","_useState3","_useState4","currentIndex","setCurrentIndex","get","then","response","data","catch","error","console","renderItem","_ref","item","style","styles","offerItem","children","source","uri","imageUrl","offerImage","textContainer","offerTitle","title","offerDescription","description","container","ref","keyExtractor","id","toString","horizontal","showsHorizontalScrollIndicator","snapToInterval","decelerationRate","contentContainerStyle","paddingHorizontal","onScroll","event","offsetX","nativeEvent","contentOffset","x","index","Math","floor","create","height","width","borderRadius","marginRight","overflow","padding","position","bottom","left","right","backgroundColor","margin","borderBottomLeftRadius","borderBottomRightRadius","fontSize","fontWeight","color","_NativeWindStyleSheet","atRules","topics"],"sources":["C:/Users/bhand/OneDrive/Desktop/Sahaj Yatri/Frontend/src/screens/HomeScreen/OfferScreen.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport { View, Text, Image, FlatList, StyleSheet } from \"react-native\";\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../utils/config\";\r\n\r\nconst OfferScreen = () => {\r\n  //this comment is for making animation of automatic movving the offer screen\r\n  const flatListRef = useRef(null);\r\n  const [offers, setOffers] = useState([]);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${BASE_URL}offer`)\r\n      .then((response) => {\r\n        setOffers(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching offers:\", error);\r\n      });\r\n  }, []);\r\n  // this below code is for automatic scroling the add\r\n  // useEffect(() => {\r\n  //   const interval = setInterval(() => {\r\n  //     const nextIndex = (currentIndex + 1) % offers.length;\r\n  //     setCurrentIndex(nextIndex);\r\n  //     flatListRef.current.scrollToIndex({ animated: true, index: nextIndex });\r\n  //   }, 2500);\r\n\r\n  //   return () => clearInterval(interval);\r\n  // }, [currentIndex, offers]);\r\n\r\n  const renderItem = ({ item }) => (\r\n    <View style={styles.offerItem}>\r\n      <Image source={{ uri: item.imageUrl }} style={styles.offerImage} />\r\n      <View style={styles.textContainer}>\r\n        <Text style={styles.offerTitle}>{item.title}</Text>\r\n        <Text style={styles.offerDescription}>{item.description}</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <FlatList\r\n        ref={flatListRef}\r\n        data={offers}\r\n        renderItem={renderItem}\r\n        keyExtractor={(item) => item.id.toString()}\r\n        horizontal\r\n        showsHorizontalScrollIndicator={false}\r\n        snapToInterval={350}\r\n        decelerationRate={0.8}\r\n        contentContainerStyle={{ paddingHorizontal: 10 }}\r\n        onScroll={(event) => {\r\n          const offsetX = event.nativeEvent.contentOffset.x;\r\n          const index = Math.floor(offsetX / 330);\r\n          setCurrentIndex(index);\r\n        }}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    height: 130,\r\n    width: 400,\r\n  },\r\n  offerItem: {\r\n    width: 380,\r\n    height: 140,\r\n    borderRadius: 25,\r\n    marginRight: 15,\r\n    overflow: \"visible\",\r\n    padding: 8,\r\n    // shadowColor: \"blue\",\r\n    // shadowRadius: 1,\r\n    // shadowOpacity: 1,\r\n  },\r\n  offerImage: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    borderRadius: 15,\r\n  },\r\n  textContainer: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 30,\r\n    backgroundColor: \"rgba(193, 193, 193, 0.6)\",\r\n    padding: 10,\r\n    margin: 15,\r\n    borderBottomLeftRadius: 10,\r\n    borderBottomRightRadius: 10,\r\n  },\r\n  offerTitle: {\r\n    fontSize: 20,\r\n    fontWeight: \"bold\",\r\n    color: \"black\",\r\n  },\r\n  offerDescription: {\r\n    fontSize: 12,\r\n    color: \"black\",\r\n  },\r\n});\r\n\r\nexport default OfferScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}